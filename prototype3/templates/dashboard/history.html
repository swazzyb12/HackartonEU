{% extends "base.html" %} {% block title %}Assessment History - CyberHubs{%
endblock %} {% block content %}
<div class="max-w-6xl mx-auto px-4">
  <div class="mb-8 flex items-start justify-between gap-4">
    <div>
      <h1 class="text-3xl font-bold text-white">Assessment History</h1>
      <p class="text-slate-300">
        Review your past assessments and progress over time.
      </p>
    </div>
    <a
      href="{{ url_for('dashboard.index') }}"
      class="self-start inline-flex items-center gap-2 bg-slate-700 hover:bg-slate-600 text-white font-medium py-2 px-4 rounded-lg transition"
    >
      <svg
        class="w-5 h-5"
        fill="none"
        stroke="currentColor"
        viewBox="0 0 24 24"
      >
        <path
          stroke-linecap="round"
          stroke-linejoin="round"
          stroke-width="2"
          d="M10 19l-7-7 7-7"
        />
      </svg>
      Back to Dashboard
    </a>
  </div>

  {% if history %}
  <div class="bg-slate-800 rounded-xl border border-slate-700 overflow-hidden">
    <table class="w-full">
      <thead class="bg-slate-700/50">
        <tr>
          <th class="px-6 py-4 text-left text-white font-bold">Domain</th>
          <th class="px-6 py-4 text-left text-white font-bold">Difficulty</th>
          <th class="px-6 py-4 text-left text-white font-bold">Score</th>
          <th class="px-6 py-4 text-left text-white font-bold">Date</th>
        </tr>
      </thead>
      <tbody class="divide-y divide-slate-700">
        {% for assessment in history %}
        <tr class="hover:bg-slate-700/30 transition">
          <td class="px-6 py-4 text-white font-medium">
            {{ assessment.domain|replace('-', ' ')|title }}
          </td>
          <td class="px-6 py-4">
            <span
              class="px-3 py-1 rounded-full text-sm font-medium {% if assessment.difficulty == 'beginner' %}bg-green-500/20 text-green-400 {% elif assessment.difficulty == 'intermediate' %}bg-yellow-500/20 text-yellow-400 {% else %}bg-red-500/20 text-red-400{% endif %}"
            >
              {{ assessment.difficulty|title }}
            </span>
          </td>
          <td class="px-6 py-4">
            <span
              class="text-2xl font-bold {% if assessment.score >= 80 %}text-green-400 {% elif assessment.score >= 60 %}text-yellow-400 {% else %}text-red-400{% endif %}"
            >
              {{ assessment.score }}%
            </span>
          </td>
          <td class="px-6 py-4 text-slate-400">{{ assessment.date }}</td>
        </tr>
        {% endfor %}
      </tbody>
    </table>
  </div>

  {% if page_count and page_count > 1 %}
  <div class="flex items-center justify-between mt-4">
    <a
      href="{{ url_for('dashboard.history', page=(page-1)) }}"
      class="px-3 py-2 rounded-lg bg-slate-700 text-white hover:bg-slate-600 {% if page <= 1 %}opacity-50 pointer-events-none{% endif %}"
      >Previous</a
    >
    <span class="text-slate-400">Page {{ page }} of {{ page_count }}</span>
    <a
      href="{{ url_for('dashboard.history', page=(page+1)) }}"
      class="px-3 py-2 rounded-lg bg-slate-700 text-white hover:bg-slate-600 {% if page >= page_count %}opacity-50 pointer-events-none{% endif %}"
      >Next</a
    >
  </div>
  {% endif %} {% else %}
  <div class="text-center py-12">
    <svg
      class="w-16 h-16 text-slate-600 mx-auto mb-4"
      fill="none"
      stroke="currentColor"
      viewBox="0 0 24 24"
    >
      <path
        stroke-linecap="round"
        stroke-linejoin="round"
        stroke-width="2"
        d="M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"
      ></path>
    </svg>
    <p class="text-slate-400 text-lg mb-4">No assessment history yet</p>
    <a
      href="{{ url_for('home.index') }}"
      class="inline-block bg-gradient-to-r from-cyan-500 to-blue-500 hover:from-cyan-600 hover:to-blue-600 text-white font-bold py-3 px-6 rounded-lg transition"
      >Start Your First Assessment</a
    >
  </div>
  {% endif %}
</div>
{% endblock %}
